@if (bike()) {
<div class="modern-bike-card">
  <!-- Bike Image Section -->
  <div class="bike-image-container">
    <img
      [src]="bike()!.photoUrl || './assets/user.png'"
      [alt]="bike()!.model"
      class="bike-image">

    <!-- Like Badge -->
    @if (hasLiked()) {
      <div class="like-badge">
        <mat-icon>favorite</mat-icon>
      </div>
    }

    <!-- Action Buttons Overlay -->
    <div class="action-overlay">
      <div class="action-buttons">
        <button
          [routerLink]="['/bike', bike()!.id]"
          class="action-btn"
          matTooltip="{{ 'bikeCard.viewDetails' | transloco }}">
          <mat-icon>visibility</mat-icon>
        </button>

        <button
          (click)="toggleLikeBike()"
          class="action-btn"
          [class.liked]="hasLiked()"
          matTooltip="{{ 'bikeCard.addToFavorites' | transloco }}">
          <mat-icon>{{ hasLiked() ? 'favorite' : 'favorite_border' }}</mat-icon>
        </button>

        @if (bike()!.isAvailable) {
          <button
            (click)="rentBike()"
            class="action-btn"
            matTooltip="{{ 'bikeCard.rentBike' | transloco }}">
            <mat-icon>directions_bike</mat-icon>
          </button>
        } @else {
          <button
            (click)="returnBike()"
            class="action-btn return-btn"
            matTooltip="{{ 'bikeCard.returnBike' | transloco }}">
            <mat-icon>assignment_return</mat-icon>
          </button>
        }
      </div>
    </div>
  </div>

  <!-- Bike Info Section -->
  <div class="bike-info">
    <div class="bike-header">
      <h3 class="bike-name">{{ bike()!.brand }} {{ bike()!.model }}</h3>
      <div class="bike-year">{{ bike()!.year }}</div>
    </div>

    <div class="bike-details">
      <div class="bike-type">
        <mat-icon class="detail-icon">category</mat-icon>
        <span>{{ bike()!.type }}</span>
      </div>

      <div class="bike-price">
        <mat-icon class="detail-icon">attach_money</mat-icon>
        <span class="price-value">{{ bike()!.price | currency }}</span>
        <span class="price-period">{{ 'bikeCard.pricePeriod' | transloco }}</span>
      </div>
    </div>

    <!-- Status Indicator -->
    <div class="status-indicator">
      <div class="status-left">
        <div class="status-dot" [class.available]="bike()!.isAvailable" [class.unavailable]="!bike()!.isAvailable"></div>
        <span class="status-text">{{ bike()!.isAvailable ? ('bikeCard.readyToRide' | transloco) : ('bikeCard.currentlyRented' | transloco) }}</span>
      </div>
      <!-- Availability Badge -->
      <div class="availability-badge" [class.available]="bike()!.isAvailable" [class.unavailable]="!bike()!.isAvailable">
        {{ bike()!.isAvailable ? ('bikeCard.available' | transloco) : ('bikeCard.rented' | transloco) }}
      </div>
    </div>
  </div>
</div>
}
